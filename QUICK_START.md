# 快速启动指南 - 姿态对比功能

## 🚀 快速体验新功能

### 1. 启动项目

```bash
# 后端
cd backend
npm install
npm run dev

# 前端（新终端）
cd frontend
npm install
npm run dev
```

### 2. 访问应用

打开浏览器访问：`http://localhost:5173`

### 3. 登录演示账户

选择以下任一账户登录（密码任意）：

| 用户名 | 水平等级 | 推荐测试场景 |
|-------|---------|------------|
| demo1 | 业余入门 | 查看低水平评分效果 |
| demo2 | 业余高手 | 查看中等水平评分 |
| demo3 | 职业选手 | 查看高水平评分 |

### 4. 进入训练页面

登录后，点击左侧导航栏的"🏸 实时训练"

### 5. 启动演示模式

点击"演示模式"按钮，系统开始展示姿态追踪效果

### 6. 查看双画面对比

点击页面顶部的"双画面对比"标签，即可看到：
- ✅ 左侧：实时训练动作
- ✅ 右侧：标准动作参考
- ✅ 右上角：实时匹配分数
- ✅ 下方：完整动作分析匹配表

## 📊 功能亮点

### 双画面3D对比
- 实时姿态与标准动作并排显示
- 基于YOLOv11-Pose的17关键点追踪
- 3D可视化，支持鼠标旋转、缩放视角

### 动作分析匹配表
- 10种羽毛球标准动作数据
- DTW算法计算相似度
- 实时显示匹配分数和进度条

### 差异化评分系统
- demo1(业余): 65-80分
- demo2(高手): 75-88分
- demo3(职业): 85-95分

## 🎯 测试建议

### 测试用例1：不同用户等级对比
1. 使用demo1登录并进入双画面对比
2. 记录显示的分数范围
3. 退出后使用demo3登录
4. 对比分数差异

**预期结果**：demo3的分数明显高于demo1

### 测试用例2：动作切换观察
1. 启动演示模式
2. 切换到双画面对比
3. 观察约1.5秒切换一次动作
4. 查看匹配表数据同步更新

**预期结果**：每30帧（1.5秒）动作和数据同步切换

### 测试用例3：视图切换
1. 在"单画面姿态"和"双画面对比"间切换
2. 观察布局变化
3. 验证3D视角可以独立控制

**预期结果**：两种视图平滑切换，无错误

## 🛠️ 故障排除

### 问题：页面空白或报错
**解决方案**：
```bash
# 清理并重新安装依赖
cd frontend
rm -rf node_modules package-lock.json
npm install
npm run dev
```

### 问题：3D场景不显示
**检查项**：
1. 浏览器是否支持WebGL
2. 打开浏览器控制台查看错误信息
3. 尝试使用Chrome浏览器

### 问题：演示模式无反应
**检查项**：
1. 确认已点击"演示模式"按钮
2. 查看控制台是否有JavaScript错误
3. 刷新页面重试

## 📁 核心文件位置

```
frontend/src/
├── pages/Training.tsx                    # 主页面
├── components/PoseViewer/
│   ├── PoseComparisonView.tsx           # 对比视图
│   └── ActionMatchingTable.tsx          # 匹配表
└── utils/standardActions.ts             # 标准动作数据
```

## 🎨 自定义开发

### 添加新动作
编辑 `frontend/src/utils/standardActions.ts`：

```typescript
// 在 generateStandardPose 函数中添加新动作
case '新动作名称':
  // 配置17个关键点坐标
  keypoints.push([x, y, z, confidence])
  // ... 添加所有17个点
  break
```

### 调整评分算法
修改 `generateActionMatches` 函数中的分值计算逻辑

### 更改视觉样式
编辑对应组件的style属性或Card的bodyStyle

## 📞 支持

如有问题，请：
1. 查看 POSE_COMPARISON_FEATURE.md 详细文档
2. 检查浏览器控制台错误信息
3. 提交Issue到项目仓库

## ⚡ 性能提示

- 使用Chrome浏览器以获得最佳3D渲染性能
- 低端设备建议使用"单画面姿态"模式
- 双画面模式需要较好的GPU支持

---

**注意**：此功能当前仅在演示模式下可用，实际训练模式保持原有单画面视图。
